docker: Error response from daemon: OCI runtime create failed: container_linux.go:348: starting container process caused "exec: \"/gdata/liyh/project/e2p/summit/resgan/exp-0003/train.sh\": permission denied": unknown.
/usr/local/lib/python3.6/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
usage: p2p_att.py [-h] [--input_dir INPUT_DIR] --mode {train,test,export}
                  --output_dir OUTPUT_DIR [--seed SEED]
                  [--checkpoint CHECKPOINT] [--max_steps MAX_STEPS]
                  [--max_epochs MAX_EPOCHS] [--summary_freq SUMMARY_FREQ]
                  [--progress_freq PROGRESS_FREQ] [--trace_freq TRACE_FREQ]
                  [--display_freq DISPLAY_FREQ] [--save_freq SAVE_FREQ]
                  [--evaluate_freq EVALUATE_FREQ]
                  [--aspect_ratio ASPECT_RATIO] [--batch_size BATCH_SIZE]
                  [--which_direction {AtoB,BtoA}] [--ngf NGF] [--ndf NDF]
                  [--scale_size SCALE_SIZE] [--target_size TARGET_SIZE]
                  [--flip] [--no_flip] [--no_random_crop] [--monochrome]
                  [--lr LR] [--beta1 BETA1] [--l1_weight L1_WEIGHT]
                  [--gan_weight GAN_WEIGHT] [--num_unet NUM_UNET]
                  [--generator {res,ir,ed,atte,sa,sa_I}]
                  [--discriminator {res,ir,conv,atte,sa,sa_I}]
                  [--input_type {edge,df}] [--double_D] [--load_image]
                  --num_examples NUM_EXAMPLES [--channel_fac CHANNEL_FAC]
                  [--enc_atten ENC_ATTEN] [--dec_atten DEC_ATTEN] [--no_sn]
                  [--output_filetype {png,jpeg}]
p2p_att.py: error: argument --generator: invalid choice: 'resgan' (choose from 'res', 'ir', 'ed', 'atte', 'sa', 'sa_I')
/usr/local/lib/python3.6/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
WARNING:tensorflow:From p2p_att.py:873: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_or_create_global_step
WARNING:tensorflow:From p2p_att.py:1124: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.MonitoredTrainingSession
2019-01-23 14:10:03.255844: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-01-23 14:10:03.729402: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:05:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2019-01-23 14:10:04.037245: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 1 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:04:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2019-01-23 14:10:04.039989: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0, 1
2019-01-23 14:10:04.979886: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-01-23 14:10:04.979973: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 1 
2019-01-23 14:10:04.979991: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N Y 
2019-01-23 14:10:04.980001: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 1:   Y N 
2019-01-23 14:10:04.980684: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10411 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:05:00.0, compute capability: 6.1)
2019-01-23 14:10:04.982160: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:1 with 10411 MB memory) -> physical GPU (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:04:00.0, compute capability: 6.1)
/usr/local/lib/python3.6/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
Traceback (most recent call last):
  File "p2p_att.py", line 1238, in <module>
    main()
  File "p2p_att.py", line 1052, in main
    model = create_model(examples.inputs, examples.targets)
  File "p2p_att.py", line 788, in create_model
    outputs = create_generator_ed(inputs, out_channels)
  File "p2p_att.py", line 639, in create_generator_ed
    output = deconv(rectified, out_channels)
  File "/gdata/liyh/project/e2p/models.py", line 144, in deconv
    filter=spectral_norm(filter), 
  File "/gdata/liyh/project/e2p/models.py", line 106, in spectral_norm
    w_shape = w.shape.as_list()
AttributeError: type object 'filter' has no attribute 'shape'
/usr/local/lib/python3.6/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
WARNING:tensorflow:From p2p_att.py:873: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.get_or_create_global_step
WARNING:tensorflow:From p2p_att.py:1125: Supervisor.__init__ (from tensorflow.python.training.supervisor) is deprecated and will be removed in a future version.
Instructions for updating:
Please switch to tf.train.MonitoredTrainingSession
2019-01-24 02:08:04.951131: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-01-24 02:08:05.727940: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 0 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:8a:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2019-01-24 02:08:06.184294: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 1 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:89:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2019-01-24 02:08:06.606685: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 2 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:86:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2019-01-24 02:08:06.977003: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1356] Found device 3 with properties: 
name: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.62
pciBusID: 0000:85:00.0
totalMemory: 10.92GiB freeMemory: 10.76GiB
2019-01-24 02:08:06.993439: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1435] Adding visible gpu devices: 0, 1, 2, 3
2019-01-24 02:08:10.176622: I tensorflow/core/common_runtime/gpu/gpu_device.cc:923] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-01-24 02:08:10.176703: I tensorflow/core/common_runtime/gpu/gpu_device.cc:929]      0 1 2 3 
2019-01-24 02:08:10.176720: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 0:   N Y Y Y 
2019-01-24 02:08:10.176728: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 1:   Y N Y Y 
2019-01-24 02:08:10.176736: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 2:   Y Y N Y 
2019-01-24 02:08:10.176759: I tensorflow/core/common_runtime/gpu/gpu_device.cc:942] 3:   Y Y Y N 
2019-01-24 02:08:10.181223: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10411 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:8a:00.0, compute capability: 6.1)
2019-01-24 02:08:10.182923: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:1 with 10411 MB memory) -> physical GPU (device: 1, name: GeForce GTX 1080 Ti, pci bus id: 0000:89:00.0, compute capability: 6.1)
2019-01-24 02:08:10.193339: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:2 with 10411 MB memory) -> physical GPU (device: 2, name: GeForce GTX 1080 Ti, pci bus id: 0000:86:00.0, compute capability: 6.1)
2019-01-24 02:08:10.195854: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1053] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:3 with 10411 MB memory) -> physical GPU (device: 3, name: GeForce GTX 1080 Ti, pci bus id: 0000:85:00.0, compute capability: 6.1)
time="2019-01-29T09:08:59+08:00" level=error msg="error waiting for container: unexpected EOF"
